{% extends 'base.html.twig' %}

{% block title %}{{ slug }}{% endblock %}

{% block body %}
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = 'https://connect.facebook.net/es_ES/sdk.js#xfbml=1&version=v3.2';
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script>

    <script type="application/ld+json">
                    {
                        "@context":"http://schema.org",
                        "@type": "MusicRecording",
                        "name": "{{ cancion[0].nom_cancion }}",
                        "byArtist": "{{ cancion[0].nom_cant }}",
                        "inPlayList": "{{ cancion[0].nom_genero }}",
                        ]
                    }
                </script>

    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="show-article-container p-3 mt-4">
                    <div class="row">
                        <div class="col-sm-12">
                            <img class="show-article-img" src="{{ asset(cancion[0].img_genero) }}">
                            <div class="show-article-title-container d-inline-block pl-3 align-middle">
                                <span class="show-article-title ">{{ cancion[0].nom_cancion }}</span>
                                <br>
                                <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-text="Me encanta la canción {{ cancion[0].nom_cancion }}! ¿Y a ti?" data-hashtags="{{ cancion[0].nom_cant|replace({' ': ''}) }}" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                                <div class="fb-share-button" data-href="{{ path(app.request.attributes.get('_route'),
                                    app.request.attributes.get('_route_params')) }}" data-layout="button" data-size="small" data-mobile-iframe="true"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Compartir</a></div>
                                <a class="" href="{{ cancion[0].link_reprod }}">Reproducir</a>
                                <span class="pl-2 article-details"> {{ cancion[0].fecha_creac }}</span>
                                <span class="pl-2 article-details">
                                <span class="js-like-index-count">Ranking: {{ cancion[0].posicion }}</span>

                            </span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <p class="share-icons mb-5"></p>
                        </div>
                    </div>
                    <div class="article-container my-1">

                    </div>

                    {#Meter aqui la descripcion de la cancion#}
                    <p class="show-article-title">Ranking: {{ cancion[0].posicion }}</p>
                    <p class="show-article-title">Autor: {{ cancion[0].nom_cant }}</p>
                    <p class="show-article-title">Género: {{ cancion[0].nom_genero }}</p>
                    <p class="show-article-title">Fecha: {{ cancion[0].fecha_creac }}</p>


                </div>

            </div>

        </div>

    </div>
    </div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script src="{{ asset('js/index_show.js') }}"></script>
{% endblock %}